---
title: Mac Os Fusion CentOS7 安装、配置静态IP文档
date: 2020-05-03 19:33:25
updated: 2020-05-03 19:59:49
permalink: mac-os-vmware-fusion-install
tags: 
    - mac
    - 虚拟机
categories: tool
toc: true
excerpt:  Mac Os Fusion CentOS7 安装、配置静态IP文档
---

### 安装CentOS7

![](https://static.studytime.xin/image/articles/20200111133031.png)

这里我们要安装CentOS7 64位，所以选择CentOS7 64位配置

![](https://static.studytime.xin/image/articles/20200111133115.png)

![](https://static.studytime.xin/image/articles/20200111133127.png)

![](https://static.studytime.xin/image/articles/20200111133141.png)

![](https://static.studytime.xin/image/articles/20200111133152.png)

![](https://static.studytime.xin/image/articles/20200111133202.png)

### 我们点击存储后，vmware会自动帮我们创建一个虚拟机，但是我们还没有添加镜像，所以需要先将其关机

![](https://static.studytime.xin/image/articles/20200111133217.png)

![](https://static.studytime.xin/image/articles/20200111133228.png)

### 给新创建的虚拟机设置镜像
![](https://static.studytime.xin/image/articles/20200111133316.png)

![](https://static.studytime.xin/image/articles/20200111133326.png)


![](https://static.studytime.xin/image/articles/20200111133337.png)


![](https://static.studytime.xin/image/articles/20200111133346.png)

![](https://static.studytime.xin/image/articles/20200111133355.png)

![](https://static.studytime.xin/image/articles/20200111133404.png)

### 设置语言
这里说一下设置成英文的原因，因为英文是更国际化的语言，设置成英文的以后系统出问题了就是英文错误提示，通过英文错误提示更容易在网络上搜到解决办法，用中文的话出错了的话比较难找到解决办法
![](https://static.studytime.xin/image/articles/20200111133434.png)


### 设置时区，默认的是纽约的，这里改成中国上海
![](https://static.studytime.xin/image/articles/20200111133442.png)


### 设置网络连接，以及主机名称等配置
![](https://static.studytime.xin/image/articles/20200405142018.png)

![](https://static.studytime.xin/image/articles/20200405142055.png)

### 其他设置
![](https://static.studytime.xin/image/articles/20200111133453.png)

![](https://static.studytime.xin/image/articles/20200111133510.png)

![](https://static.studytime.xin/image/articles/20200111133520.png)

![](https://static.studytime.xin/image/articles/20200111133530.png)

![](https://static.studytime.xin/image/articles/20200111133539.png)

### 设置root账号密码
![](https://static.studytime.xin/image/articles/20200111133553.png)

### 配置静态IP

#### 把网络配置改成nat模式

![](https://static.studytime.xin/image/articles/20200111133602.png)

![](https://static.studytime.xin/image/articles/20200111133613.png)

#### 通过Mac终端进入VMware Fusion的vmnet8目录`cd /Library/Preferences/VMware\ Fusion/vmnet8`

![](https://static.studytime.xin/image/articles/20200111133738.png)

#### 查看nat.conf内容`cat nat.conf`
记住红框中的数据，下面配置时需要用到
![](https://static.studytime.xin/image/articles/20200111133850.png)

#### 查看cat dhcpd.conf内容`cat dhcpd.conf`
![](https://static.studytime.xin/image/articles/20200111135915.png)

注意range 这个是虚拟机允许选择的静态ip地址范围，自定义的静态ip地址必须要在这个范围内(本文打算使用172.16.104.130为例介绍)

#### 获取DNS(在mac系统偏好设置—>网络—>)

![](https://static.studytime.xin/image/articles/20200111134020.png)

![](https://static.studytime.xin/image/articles/20200111134136.png)

![](https://static.studytime.xin/image/articles/20200111135749.png)


#### 登录CentOS7、开始配置静态ip
![](https://static.studytime.xin/image/articles/20200111135249.png)

```
cd /etc/sysconfig/network-scripts
找到ifcfg-en开头的文件,上图中我的是ifcfg-ens33
vim ifcfg-ens33
```

我们将它改成如下配置:
```
TYPE="Ethernet"
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="static"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="ens33"
#UUID="196d2a7b-926e-49cf-a70f-e8b17e65c311"
#DEVICE="ens33"
ONBOOT="yes"
IPADDR=172.16.225.131
NETMASK=255.255.255.0
GATEWAY=172.16.225.2
DNS1=8.8.8.8
DNS2=8.8.4.4
```



#### 保存之后，重启服务使修改生效`service network restart`
![](https://static.studytime.xin/image/articles/20200111135338.png)

#### 需要能ping外网，修改/etc/resolv.conf即可

```
vim /etc/resolv.conf


# Generated by NetworkManager
nameserver 8.8.8.8
nameserver 8.8.4.4
```
说明：如果不设置此步骤，可能会出现提示 `ping: baidu.com: 未知的名称或服务`

#### ping一下百度看看，成功Ping到
![](https://static.studytime.xin/image/articles/20200111135413.png)


#### 软件连接
![](https://static.studytime.xin/image/articles/20200111135437.png)